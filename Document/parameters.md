# Parameters 
`physics_params.json`에 정의된 parameter에 대한 설명입니다. 
`from utils.load_data import load_json`를 이용해 쉽게 불러올 수 있습니다. 

---

## 📁 FILE_PARAMS – 모델 파일 경로 설정

| 파라미터     | 설명                              | 기본값                    |
|--------------|-----------------------------------|---------------------------|
| `CAR_MODEL`  | 사용 중인 MuJoCo MJCF XML 파일명   | `closed_truck_ell.xml`    |
| `STL_NAME`   | 모델에 연결된 STL 파일명           | `closed_truck.stl`        |

---

## ⚙️ SIMULATION_PARAMS – 시뮬레이션 환경 설정

| 파라미터       | 설명                       | 기본값    | 단위     |
|----------------|----------------------------|-----------|----------|
| `TIMESTEP`     | 시뮬레이션 시간 간격        | 0.005     | sec      |
| `GRAVITY_Z`    | 중력 가속도 (Z축 방향)      | -9.81     | m/s²     |
| `INTEGRATOR`   | 적분기 종류 (`RK4`, `Euler`)| `RK4`     | -        |

---

## 🚗 CAR_PARAMS – 차량 구조 및 물리 파라미터

| 파라미터          | 설명                         | 기본값   | 단위        |
|-------------------|------------------------------|----------|-------------|
| `MASS_CHASSIS`    | 차체 질량                     | 2500     | kg          |
| `MASS_SUSP`       | 서스펜션 질량 (1개당)         | 300      | kg          |
| `INERTIA_SUSP`    | 서스펜션 관성                 | 50       | kg·m²       |
| `MASS_WHEEL`      | 바퀴 질량                     | 100      | kg          |
| `WHEEL_DIAMETER`  | 바퀴 지름                     | 0.718    | m           |
| `WHEEL_WIDTH`     | 바퀴 폭                       | 0.300    | m           |
| `SPRING_K_F`      | 전륜 스프링 강성              | 300000   | N/m         |
| `SPRING_K_R`      | 후륜 스프링 강성              | 300000   | N/m         |
| `DAMP_SUSP`       | 서스펜션 감쇠 계수            | 10000    | N·s/m       |
| `GEAR_DRIVE`      | 구동계 감속비                 | 6        | ratio       |
| `GEAR_STEER`      | 조향계 감속비                 | 40       | ratio       |
| `GEAR_BRAKE`      | 브레이크 계통 감속비          | 1        | ratio       |

---

## Pacejka Parameters 

`pacejka_model.py`에서 사용하는 주요 파라미터들을 정리하였습니다. 

### 🚗 차량 제원

| 파라미터         | 설명                         | 기본값  | 단위      |
|------------------|------------------------------|---------|-----------|
| `WHEEL_BASE`     | 앞뒤 바퀴 간 거리             | 7.30    | m         |
| `TRACK_HALF`     | 트랙 반차폭 (좌우 바퀴 간 거리의 절반) | 1.90 | m         |
| `CG_HEIGHT`      | 무게중심 높이                 | 0.90    | m         |
| `WHEEL_RADIUS`   | 바퀴 반지름                   | 0.35    | m         |
| `JOINT_DAMPING`  | 휠 회전축 감쇠계수            | 0.10    | N·m·s/rad |

---

### 🔁 Pacejka 계수 (마찰 모델)

| 파라미터 | 설명                         | 기본값 | 
|----------|------------------------------|--------|
| `BX`     | 종방향 B 계수 (stiffness)    | 11.4   | 
| `CX`     | 종방향 C 계수 (shape)        | 1.9    |                
| `EX`     | 종방향 E 계수 (curve)        | 0.97   |                
| `BY`     | 횡방향 B 계수                | 8.1    |
| `CY`     | 횡방향 C 계수                | 1.3    |                 
| `EY`     | 횡방향 E 계수                | 0.97   |                 
| `MU_Y`   | 횡방향 마찰계수              | 1.0    |

> 💡 다양한 노면 조건(젖은 노면, 눈길 등)에 대해 다른 계수로 실험 가능

### ✨ 추천 튜닝 가이드

| 조건        | BX / BY | MU_X / MU_Y |
|-------------|----------|--------------|
| 마른 아스팔트 | 11.4 / 8.1 | 0.9 / 1.0     |
| 젖은 아스팔트 | 12.6 / 9.0 | 0.7 / 0.78    |
| 눈길          | 4.7 / 3.8  | 0.24 / 0.27   |

---

### 🏋️ 하중 조건 및 슬립 제한

| 파라미터           | 설명                                 | 기본값 | 단위  |
|--------------------|--------------------------------------|--------|-------|
| `MAX_LOAD`         | 휠당 최대 하중 (하중 클램프)         | 15000.0| N     |
| `SLIP_LIMIT`       | 종방향 슬립비 제한 (|κ| ≤ limit)     | 0.20   | -     |
| `SLIP_ANGLE_LIMIT` | 횡방향 슬립각 제한 (|β| ≤ limit)     | 0.26   | rad   |


---

## Brake System Parameters

`brake.py`에서 사용하는 주요 파라미터들을 정리하였습니다. 

---

### 📦 압력 시스템 설정

| 항목              | 설명                              | 기본값         | 단위   |
|-------------------|-----------------------------------|----------------|--------|
| `VOL_RESERVOIR`   | 서비스 탱크(리저버) 용적           | `0.06`         | m³     |
| `VOL_CHAMBER`     | 브레이크 챔버 용적                 | `0.005`        | m³     |
| `P_INIT`          | 시동 시 초기 압력                  | `800000.0`     | Pa     |
| `P_MIN`           | 저압 경고 임계값                   | `500000.0`     | Pa     |
| `P_MAX`           | 리저버 최대 압력                   | `900000.0`     | Pa     |
| `P_DIE`           | 비상 제동 임계값 (시뮬 정지)        | `400000.0`     | Pa     |

---

### ⚙️ 기계적 설정

| 항목              | 설명                              | 기본값         | 단위   |
|-------------------|-----------------------------------|----------------|--------|
| `DIA_DIAPHRAGM`   | 다이어프램 직경                    | `0.20`         | m      |
| `MU_DRUM`         | 라이닝-드럼 마찰계수              | `0.35`         | -      |
| `LEVER_RADIUS`    | 브레이크 레버 반경                | `0.08`         | m      |

---

### 🔁 동작 조건 설정

| 항목                    | 설명                                  | 기본값     | 단위  |
|-------------------------|---------------------------------------|------------|-------|
| `PRESSURE_CHARGE_RATE`  | 공기압 충전 속도 계수 (`Δp = rate × rpm`) | `0.015`    | -     |
| `STOP_THRESH`           | 정지로 판정할 속도 임계값              | `1.0`      | m/s   |

---

### 🔧 ABS 설정

| 항목              | 설명                                      | 기본값     | 단위 |
|-------------------|-------------------------------------------|------------|------|
| `SLIP_MIN`        | 슬립비 최저 임계값                       | `0.08`     | -    |
| `SLIP_MAX`        | 슬립비 최고 임계값                       | `0.18`     | -    |
| `ABS_TORQUE_HIGH` | 슬립비 낮을 때 ABS 토크 계수              | `1.0`      | -    |
| `ABS_TORQUE_OPTIMAL` | 슬립비 최적 범위일 때 ABS 토크 계수     | `0.7`      | -    |
| `ABS_TORQUE_LOW`  | 슬립비 높을 때 ABS 토크계수               | `0.2`      | -    |

---

### 📝 참고
- 4개 바퀴 각각 ABS 시스템 적용
- 트럭은 후륜 통합으로 총 3개의 ABS 시스템을 사용한다는 정보를 찾아서, 추후 변경 가능.


